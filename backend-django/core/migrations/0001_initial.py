# Generated by Django 5.2.7 on 2025-11-22 10:54

import django.core.validators
import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('username', models.CharField(db_index=True, error_messages={'unique': '该用户名已存在。'}, help_text='用户名', max_length=150, unique=True)),
                ('password', models.CharField(help_text='密码（加密存储）', max_length=128)),
                ('is_superuser', models.BooleanField(db_index=True, default=False, help_text='超级管理员标识')),
                ('last_login', models.DateTimeField(blank=True, help_text='最后登录时间', null=True)),
                ('email', models.EmailField(blank=True, db_index=True, help_text='邮箱地址', max_length=255, null=True, validators=[django.core.validators.EmailValidator(message='请输入有效的邮箱地址')])),
                ('mobile', models.CharField(blank=True, db_index=True, help_text='手机号码', max_length=11, null=True, validators=[django.core.validators.RegexValidator(message='请输入有效的11位手机号码', regex='^1[3-9]\\d{9}$')])),
                ('avatar', models.CharField(blank=True, help_text='用户头像UUID', max_length=36, null=True)),
                ('name', models.CharField(blank=True, db_index=True, help_text='真实姓名', max_length=64, null=True)),
                ('gender', models.IntegerField(blank=True, choices=[(0, '未知'), (1, '男'), (2, '女')], default=0, help_text='性别', null=True)),
                ('user_type', models.IntegerField(choices=[(0, '系统用户'), (1, '普通用户'), (2, '外部用户')], db_index=True, default=1, help_text='用户类型')),
                ('user_status', models.IntegerField(choices=[(0, '禁用'), (1, '正常'), (2, '锁定')], db_index=True, default=1, help_text='用户状态')),
                ('birthday', models.DateField(blank=True, help_text='生日', null=True)),
                ('city', models.CharField(blank=True, help_text='所在城市', max_length=100, null=True)),
                ('address', models.CharField(blank=True, help_text='详细地址', max_length=200, null=True)),
                ('bio', models.TextField(blank=True, help_text='个人简介', null=True)),
                ('last_login_ip', models.GenericIPAddressField(blank=True, help_text='最后登录IP', null=True)),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='用户是否激活')),
                ('manager', models.ForeignKey(blank=True, db_constraint=False, help_text='直属上级', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subordinates', to='core.user')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'verbose_name': '用户',
                'verbose_name_plural': '用户',
                'db_table': 'core_user',
                'ordering': ('-sys_create_datetime',),
            },
        ),
        migrations.CreateModel(
            name='Dept',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(db_index=True, help_text='部门名称', max_length=64)),
                ('dept_type', models.CharField(choices=[('company', '公司'), ('department', '部门'), ('team', '小组'), ('other', '其他')], db_index=True, default='department', help_text='部门类型', max_length=20)),
                ('phone', models.CharField(blank=True, help_text='部门联系电话', max_length=20, null=True, validators=[django.core.validators.RegexValidator(message='电话号码格式不正确', regex='^[\\d\\-\\+\\(\\)\\s]+$')])),
                ('email', models.EmailField(blank=True, help_text='部门邮箱', max_length=64, null=True, validators=[django.core.validators.EmailValidator(message='请输入有效的邮箱地址')])),
                ('status', models.BooleanField(db_index=True, default=True, help_text='部门状态（启用/禁用）')),
                ('description', models.TextField(blank=True, help_text='部门描述', null=True)),
                ('code', models.CharField(blank=True, db_index=True, help_text='部门编码', max_length=32, null=True, unique=True)),
                ('level', models.IntegerField(db_index=True, default=0, help_text='部门层级（0为顶层）')),
                ('path', models.CharField(blank=True, db_index=True, help_text='部门路径', max_length=500, null=True)),
                ('lead', models.ForeignKey(blank=True, db_constraint=False, help_text='部门领导', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='leading_depts', to='core.user')),
                ('parent', models.ForeignKey(blank=True, db_constraint=False, help_text='父部门', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='core.dept')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'verbose_name': '部门',
                'verbose_name_plural': '部门',
                'db_table': 'core_dept',
                'ordering': ('sort', 'sys_create_datetime'),
            },
        ),
        migrations.AddField(
            model_name='user',
            name='dept',
            field=models.ForeignKey(blank=True, db_constraint=False, help_text='所属部门', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='core_users', to='core.dept'),
        ),
        migrations.CreateModel(
            name='Dict',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(help_text='字典名称', max_length=100)),
                ('code', models.CharField(db_index=True, help_text='编码', max_length=100, unique=True)),
                ('status', models.BooleanField(blank=True, default=True, help_text='状态')),
                ('remark', models.CharField(blank=True, help_text='备注', max_length=2000, null=True)),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'db_table': 'core_dict',
                'ordering': ('sort',),
            },
        ),
        migrations.CreateModel(
            name='DictItem',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('icon', models.CharField(blank=True, help_text='ICON', max_length=100, null=True)),
                ('label', models.CharField(blank=True, help_text='显示名称', max_length=100, null=True)),
                ('value', models.CharField(blank=True, help_text='实际值', max_length=100, null=True)),
                ('status', models.BooleanField(blank=True, default=True, help_text='状态')),
                ('remark', models.CharField(blank=True, help_text='备注', max_length=2000, null=True)),
                ('dict', models.ForeignKey(db_constraint=False, help_text='字典', on_delete=django.db.models.deletion.CASCADE, to='core.dict')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'db_table': 'core_dict_item',
                'ordering': ('-sys_create_datetime',),
            },
        ),
        migrations.CreateModel(
            name='FileManager',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(help_text='文件/文件夹名称', max_length=255)),
                ('type', models.CharField(choices=[('file', '文件'), ('folder', '文件夹')], default='file', help_text='类型', max_length=10)),
                ('path', models.TextField(help_text='文件路径')),
                ('size', models.BigIntegerField(default=0, help_text='文件大小(字节)')),
                ('file_ext', models.CharField(blank=True, help_text='文件扩展名', max_length=50, null=True)),
                ('mime_type', models.CharField(blank=True, help_text='MIME类型', max_length=200, null=True)),
                ('storage_type', models.CharField(choices=[('local', '本地存储'), ('oss', '阿里云OSS'), ('minio', 'Minio'), ('azure', 'Azure Blob')], default='local', help_text='存储类型', max_length=20)),
                ('storage_path', models.TextField(help_text='存储路径')),
                ('url', models.TextField(blank=True, help_text='访问URL', null=True)),
                ('thumbnail_url', models.TextField(blank=True, help_text='缩略图URL', null=True)),
                ('md5', models.CharField(blank=True, help_text='文件MD5', max_length=32, null=True)),
                ('is_public', models.BooleanField(default=False, help_text='是否公开')),
                ('download_count', models.IntegerField(default=0, help_text='下载次数')),
                ('parent', models.ForeignKey(blank=True, help_text='父文件夹', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='core.filemanager')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'db_table': 'system_file_manager',
                'ordering': ('type', '-sys_create_datetime'),
            },
        ),
        migrations.CreateModel(
            name='LoginLog',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('user_id', models.CharField(blank=True, db_index=True, help_text='用户ID', max_length=36, null=True)),
                ('username', models.CharField(db_index=True, help_text='用户名', max_length=150)),
                ('status', models.IntegerField(choices=[(0, '失败'), (1, '成功')], db_index=True, default=0, help_text='登录状态')),
                ('failure_reason', models.IntegerField(blank=True, choices=[(0, '未知错误'), (1, '用户不存在'), (2, '密码错误'), (3, '用户已禁用'), (4, '用户已锁定'), (5, '用户不激活'), (6, '账户异常'), (7, '其他错误')], help_text='登录失败原因', null=True)),
                ('failure_message', models.CharField(blank=True, help_text='登录失败详细信息', max_length=255, null=True)),
                ('login_ip', models.GenericIPAddressField(db_index=True, help_text='登录IP地址')),
                ('ip_location', models.CharField(blank=True, help_text='IP属地（地区）', max_length=100, null=True)),
                ('user_agent', models.TextField(blank=True, help_text='用户代理字符串（浏览器信息）', null=True)),
                ('browser_type', models.CharField(blank=True, help_text='浏览器类型', max_length=50, null=True)),
                ('os_type', models.CharField(blank=True, help_text='操作系统类型', max_length=50, null=True)),
                ('device_type', models.CharField(blank=True, help_text='设备类型（desktop/mobile/tablet/other）', max_length=20, null=True)),
                ('duration', models.IntegerField(blank=True, default=0, help_text='登录会话时长（秒）', null=True)),
                ('session_id', models.CharField(blank=True, help_text='会话ID', max_length=128, null=True, unique=True)),
                ('remark', models.CharField(blank=True, help_text='备注信息', max_length=255, null=True)),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'verbose_name': '登录日志',
                'verbose_name_plural': '登录日志',
                'db_table': 'core_login_log',
                'ordering': ('-sys_create_datetime',),
            },
        ),
        migrations.CreateModel(
            name='Menu',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(help_text='菜单名称', max_length=100)),
                ('title', models.CharField(blank=True, help_text='菜单标题', max_length=100, null=True)),
                ('authCode', models.CharField(blank=True, help_text='后端权限标识', max_length=100, null=True)),
                ('path', models.CharField(help_text='路由路径', max_length=200)),
                ('type', models.CharField(default='catalog', help_text='菜单类型', max_length=20)),
                ('component', models.CharField(blank=True, help_text='组件', max_length=100, null=True)),
                ('redirect', models.CharField(blank=True, help_text='重定向', max_length=200, null=True)),
                ('activePath', models.CharField(blank=True, help_text='激活路径', max_length=200, null=True)),
                ('query', models.JSONField(blank=True, help_text='额外路由参数', null=True)),
                ('noBasicLayout', models.BooleanField(default=False, help_text='无需基础布局')),
                ('icon', models.CharField(blank=True, help_text='菜单图标', max_length=100, null=True)),
                ('activeIcon', models.CharField(blank=True, help_text='激活图标', max_length=100, null=True)),
                ('order', models.IntegerField(default=0, help_text='菜单排序')),
                ('hideInMenu', models.BooleanField(default=False, help_text='在菜单中隐藏')),
                ('hideChildrenInMenu', models.BooleanField(default=False, help_text='在菜单中隐藏下级')),
                ('hideInBreadcrumb', models.BooleanField(default=False, help_text='在面包屑中隐藏')),
                ('hideInTab', models.BooleanField(default=False, help_text='在标签栏中隐藏')),
                ('affixTab', models.BooleanField(default=False, help_text='固定在标签栏')),
                ('affixTabOrder', models.IntegerField(blank=True, help_text='标签栏固定顺序', null=True)),
                ('keepAlive', models.BooleanField(default=False, help_text='缓存页面')),
                ('maxNumOfOpenTab', models.IntegerField(blank=True, help_text='最大打开标签数', null=True)),
                ('link', models.CharField(blank=True, help_text='外链URL', max_length=200, null=True)),
                ('iframeSrc', models.CharField(blank=True, help_text='内嵌iframe URL', max_length=200, null=True)),
                ('openInNewWindow', models.BooleanField(default=False, help_text='在新窗口打开')),
                ('badge', models.CharField(blank=True, help_text='徽标内容', max_length=20, null=True)),
                ('badgeType', models.CharField(blank=True, help_text='徽标类型', max_length=20, null=True)),
                ('badgeVariants', models.CharField(blank=True, help_text='徽标颜色', max_length=20, null=True)),
                ('parent', models.ForeignKey(blank=True, db_constraint=False, help_text='Parent Menu', null=True, on_delete=django.db.models.deletion.CASCADE, to='core.menu')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'db_table': 'core_menu',
                'ordering': ('order',),
            },
        ),
        migrations.CreateModel(
            name='Permission',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(db_index=True, help_text='权限名称', max_length=64)),
                ('code', models.CharField(db_index=True, help_text='权限编码', max_length=64, validators=[django.core.validators.RegexValidator(message='权限编码只能包含字母、数字、下划线和冒号', regex='^[a-zA-Z0-9_:]+$')])),
                ('permission_type', models.IntegerField(choices=[(0, '按钮权限'), (1, 'API权限'), (2, '数据权限'), (3, '其他权限')], db_index=True, default=0, help_text='权限类型')),
                ('api_path', models.CharField(blank=True, help_text='API路径', max_length=200, null=True)),
                ('http_method', models.IntegerField(choices=[(0, 'GET'), (1, 'POST'), (2, 'PUT'), (3, 'DELETE'), (4, 'PATCH'), (5, 'ALL')], default=0, help_text='HTTP方法类型')),
                ('description', models.TextField(blank=True, help_text='权限描述', null=True)),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='是否启用')),
                ('menu', models.ForeignKey(db_constraint=False, help_text='关联菜单', on_delete=django.db.models.deletion.CASCADE, to='core.menu')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'verbose_name': '权限',
                'verbose_name_plural': '权限',
                'db_table': 'core_permission',
                'ordering': ('sort', '-sys_create_datetime'),
            },
        ),
        migrations.CreateModel(
            name='Post',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(db_index=True, help_text='岗位名称', max_length=64)),
                ('code', models.CharField(db_index=True, help_text='岗位编码', max_length=32, unique=True, validators=[django.core.validators.RegexValidator(message='岗位编码只能包含字母、数字、下划线和横线', regex='^[a-zA-Z0-9_-]+$')])),
                ('post_type', models.IntegerField(choices=[(0, '管理岗'), (1, '技术岗'), (2, '业务岗'), (3, '职能岗'), (4, '其他')], db_index=True, default=4, help_text='岗位类型')),
                ('post_level', models.IntegerField(choices=[(0, '高层'), (1, '中层'), (2, '基层'), (3, '一般员工')], db_index=True, default=3, help_text='岗位级别')),
                ('status', models.BooleanField(db_index=True, default=True, help_text='岗位状态（启用/禁用）')),
                ('description', models.TextField(blank=True, help_text='岗位描述/职责', null=True)),
                ('dept', models.ForeignKey(blank=True, db_constraint=False, help_text='所属部门', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='posts', to='core.dept')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'verbose_name': '岗位',
                'verbose_name_plural': '岗位',
                'db_table': 'core_post',
                'ordering': ('-sys_create_datetime',),
            },
        ),
        migrations.AddField(
            model_name='user',
            name='post',
            field=models.ManyToManyField(blank=True, db_constraint=False, help_text='关联的岗位', related_name='core_users', to='core.post'),
        ),
        migrations.CreateModel(
            name='Role',
            fields=[
                ('id', models.CharField(default=uuid.uuid4, editable=False, help_text='主键ID', max_length=36, primary_key=True, serialize=False)),
                ('sys_create_datetime', models.DateTimeField(auto_now_add=True, db_index=True, help_text='创建时间')),
                ('sys_update_datetime', models.DateTimeField(auto_now=True, db_index=True, help_text='更新时间')),
                ('is_deleted', models.BooleanField(db_index=True, default=False, help_text='是否删除（软删除标识）')),
                ('sort', models.IntegerField(db_index=True, default=0, help_text='排序（数字越大越靠前）')),
                ('name', models.CharField(db_index=True, help_text='角色名称', max_length=64)),
                ('code', models.CharField(db_index=True, help_text='角色编码', max_length=64, unique=True)),
                ('role_type', models.IntegerField(choices=[(0, '系统角色'), (1, '自定义角色')], db_index=True, default=1, help_text='角色类型')),
                ('status', models.BooleanField(db_index=True, default=True, help_text='角色状态（启用/禁用）')),
                ('data_scope', models.IntegerField(choices=[(0, '仅本人数据'), (1, '本部门数据'), (2, '本部门及下级部门数据'), (3, '全部数据'), (4, '自定义数据')], default=0, help_text='数据权限范围')),
                ('priority', models.IntegerField(db_index=True, default=0, help_text='角色优先级')),
                ('description', models.TextField(blank=True, help_text='角色描述', null=True)),
                ('remark', models.TextField(blank=True, help_text='备注信息', null=True)),
                ('dept', models.ManyToManyField(blank=True, db_constraint=False, help_text='关联的部门组', related_name='core_roles', to='core.dept')),
                ('menu', models.ManyToManyField(blank=True, db_constraint=False, help_text='关联的菜单', related_name='core_roles', to='core.menu')),
                ('permission', models.ManyToManyField(blank=True, db_constraint=False, help_text='关联的权限', related_name='roles', to='core.permission')),
                ('sys_creator', models.ForeignKey(blank=True, db_constraint=False, help_text='创建人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_created', to='core.user')),
                ('sys_modifier', models.ForeignKey(blank=True, db_constraint=False, help_text='修改人', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(app_label)s_%(class)s_modified', to='core.user')),
            ],
            options={
                'verbose_name': '角色',
                'verbose_name_plural': '角色',
                'db_table': 'core_role',
                'ordering': ('-priority', '-sys_update_datetime'),
            },
        ),
        migrations.AddField(
            model_name='user',
            name='core_roles',
            field=models.ManyToManyField(blank=True, db_constraint=False, help_text='关联的角色', related_name='core_users', to='core.role'),
        ),
        migrations.AddIndex(
            model_name='dept',
            index=models.Index(fields=['parent', 'status'], name='core_dept_parent__de0cb8_idx'),
        ),
        migrations.AddIndex(
            model_name='dept',
            index=models.Index(fields=['level', 'status'], name='core_dept_level_fb47c9_idx'),
        ),
        migrations.AddIndex(
            model_name='dept',
            index=models.Index(fields=['code'], name='core_dept_code_5d7ea4_idx'),
        ),
        migrations.AddIndex(
            model_name='filemanager',
            index=models.Index(fields=['parent', 'type'], name='system_file_parent__ba2823_idx'),
        ),
        migrations.AddIndex(
            model_name='filemanager',
            index=models.Index(fields=['storage_type'], name='system_file_storage_ea4a34_idx'),
        ),
        migrations.AddIndex(
            model_name='loginlog',
            index=models.Index(fields=['user_id', 'sys_create_datetime'], name='core_login__user_id_c78259_idx'),
        ),
        migrations.AddIndex(
            model_name='loginlog',
            index=models.Index(fields=['username', 'status'], name='core_login__usernam_cd7a8f_idx'),
        ),
        migrations.AddIndex(
            model_name='loginlog',
            index=models.Index(fields=['status', 'sys_create_datetime'], name='core_login__status_7f9a94_idx'),
        ),
        migrations.AddIndex(
            model_name='loginlog',
            index=models.Index(fields=['login_ip', 'sys_create_datetime'], name='core_login__login_i_7a9895_idx'),
        ),
        migrations.AddIndex(
            model_name='permission',
            index=models.Index(fields=['menu', 'is_active'], name='core_permis_menu_id_dbb579_idx'),
        ),
        migrations.AddIndex(
            model_name='permission',
            index=models.Index(fields=['permission_type', 'is_active'], name='core_permis_permiss_501491_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='permission',
            unique_together={('menu', 'code')},
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['status', 'post_type'], name='core_post_status_a2968e_idx'),
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['post_level', 'status'], name='core_post_post_le_90f25a_idx'),
        ),
        migrations.AddIndex(
            model_name='post',
            index=models.Index(fields=['dept', 'status'], name='core_post_dept_id_c16b0c_idx'),
        ),
        migrations.AddIndex(
            model_name='role',
            index=models.Index(fields=['status', 'role_type'], name='core_role_status_94026c_idx'),
        ),
        migrations.AddIndex(
            model_name='role',
            index=models.Index(fields=['priority', 'status'], name='core_role_priorit_10b820_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['user_status', 'user_type'], name='core_user_user_st_e1de7c_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['dept', 'user_status'], name='core_user_dept_id_35d76e_idx'),
        ),
        migrations.AddIndex(
            model_name='user',
            index=models.Index(fields=['is_superuser', 'user_status'], name='core_user_is_supe_375d61_idx'),
        ),
    ]
